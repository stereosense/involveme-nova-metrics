(()=>{"use strict";var e,t={441:(e,t,n)=>{const a=Vue;var r={class:"h-6 flex items-center px-6 mb-4"},l={class:"mr-3 leading-tight text-sm font-bold"},o={class:"flex flex-wrap items-center justify-start px-6"},s={class:"flex justify-between flex-1 items-center space-x-3"},c={class:"text-4xl"},i={class:"flex flex-col flex-grow text-center"},d=["href","title"],m=["title"],u={class:"text-sm",title:"Compared to previous"},p={key:0,class:"text-sm font-bold",title:"Compared to first"},f={key:0};const g={props:["card"],data:function(){return{route:null,metricsData:[],ranges:[],selectedRangeKey:null}},computed:{hasRanges:function(){return this.card.ranges.length>0}},created:function(){this.route="/nova-api/metrics/".concat(this.card.uriKey),this.ranges=this.card.ranges,console.log(this.card),this.hasRanges&&(this.selectedRangeKey=this.card.selectedRangeKey||this.card.ranges[0].value),this.fetchData(this.selectedRangeKey)},methods:{fetchData:function(e){var t=this;Nova.request().get(this.route,{params:{range:e}}).then((function(e){t.metricsData=e.data.value})).catch((function(e){console.log("error",e)}))},calculatePercentageTo:function(e,t){return 0===e?100:0===this.metricsData[t].value?0:Math.round(this.metricsData[e].value/this.metricsData[t].value*1e4)/100},formatNumber:function(e){return new Intl.NumberFormat("en-US",{maximumFractionDigits:0}).format(e)}}};var h=n(262);const v=(0,h.A)(g,[["render",function(e,t,n,g,h,v){var k=(0,a.resolveComponent)("SelectControl"),x=(0,a.resolveComponent)("Card");return(0,a.openBlock)(),(0,a.createBlock)(x,{class:"py-3 im-nova-metrics"},{default:(0,a.withCtx)((function(){return[(0,a.createElementVNode)("div",r,[(0,a.createElementVNode)("h3",l,(0,a.toDisplayString)(n.card.name),1),v.hasRanges?((0,a.openBlock)(),(0,a.createBlock)(k,{key:0,selected:e.selectedRangeKey,"onUpdate:selected":t[0]||(t[0]=function(t){return e.selectedRangeKey=t}),"aria-label":e.__("Select Ranges"),options:e.ranges,class:"ml-auto w-[9rem] flex-shrink-0",size:"xxs",onChange:v.fetchData},null,8,["selected","aria-label","options","onChange"])):(0,a.createCommentVNode)("",!0)]),(0,a.createElementVNode)("div",o,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.metricsData,(function(n,r){return(0,a.openBlock)(),(0,a.createElementBlock)("div",{key:r,class:"flex items-center justify-between h-14 w-1/4"},[(0,a.createElementVNode)("div",s,[(0,a.createElementVNode)("span",c,(0,a.toDisplayString)(v.formatNumber(n.value)),1),(0,a.createElementVNode)("div",i,[n.link?((0,a.openBlock)(),(0,a.createElementBlock)("a",{key:0,href:n.link,title:n.tooltip,target:"_blank",class:"link-default flex-grow"},(0,a.toDisplayString)(n.name),9,d)):((0,a.openBlock)(),(0,a.createElementBlock)("span",{key:1,title:n.tooltip,class:"flex-grow"},(0,a.toDisplayString)(n.name),9,m)),(0,a.createElementVNode)("div",null,[(0,a.createElementVNode)("span",u,(0,a.toDisplayString)(v.calculatePercentageTo(r,r-1))+"%",1),r>1?((0,a.openBlock)(),(0,a.createElementBlock)("span",p,"Â / "+(0,a.toDisplayString)(v.calculatePercentageTo(r,0))+"%",1)):(0,a.createCommentVNode)("",!0)])])]),r!==e.metricsData.length-1?((0,a.openBlock)(),(0,a.createElementBlock)("div",f,t[1]||(t[1]=[(0,a.createElementVNode)("svg",{class:"w-12 h-12",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[(0,a.createElementVNode)("path",{d:"M8.25 4.5l7.5 7.5-7.5 7.5","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]))):(0,a.createCommentVNode)("",!0)])})),128))])]})),_:1})}]]);var k={class:"h-6 flex items-center px-6 mb-4"},x={class:"mr-3 leading-tight text-sm font-bold"},y={class:"grid grid-cols-2 sm:grid-cols-4 md:grid-cols-6 gap-2 gap-y-4"},B={class:"text-4xl"},D={class:"flex flex-col text-center"},E=["href","title"],b=["title"];const N={props:["card"],data:function(){return{route:null,metricsData:[],ranges:[],selectedRangeKey:null}},computed:{hasRanges:function(){return this.card.ranges.length>0}},created:function(){this.route="/nova-api/metrics/".concat(this.card.uriKey),this.ranges=this.card.ranges,this.hasRanges&&(this.selectedRangeKey=this.card.selectedRangeKey||this.card.ranges[0].value),this.fetchData(this.selectedRangeKey)},methods:{fetchData:function(e){var t=this;Nova.request().get(this.route,{params:{range:e}}).then((function(e){t.metricsData=e.data.value})).catch((function(e){console.log("error",e)}))}}},w=(0,h.A)(N,[["render",function(e,t,n,r,l,o){var s=(0,a.resolveComponent)("SelectControl"),c=(0,a.resolveComponent)("Card");return(0,a.openBlock)(),(0,a.createBlock)(c,{class:"py-3 im-nova-metrics"},{default:(0,a.withCtx)((function(){return[(0,a.createElementVNode)("div",k,[(0,a.createElementVNode)("h3",x,(0,a.toDisplayString)(n.card.name),1),(0,a.createVNode)(s,{selected:e.selectedRangeKey,"onUpdate:selected":t[0]||(t[0]=function(t){return e.selectedRangeKey=t}),"aria-label":e.__("Select Ranges"),options:e.ranges,class:"ml-auto w-[9rem] flex-shrink-0",size:"xxs",onChange:o.fetchData},null,8,["selected","aria-label","options","onChange"])]),(0,a.createElementVNode)("div",y,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.metricsData,(function(e,t){return(0,a.openBlock)(),(0,a.createElementBlock)("div",{key:t,class:"justify-center text-center"},[(0,a.createElementVNode)("span",B,(0,a.toDisplayString)(e.value),1),(0,a.createElementVNode)("div",D,[e.link?((0,a.openBlock)(),(0,a.createElementBlock)("a",{key:0,href:e.link,title:e.tooltip,target:"_blank",class:"link-default"},(0,a.toDisplayString)(e.name),9,E)):((0,a.openBlock)(),(0,a.createElementBlock)("span",{key:1,class:"text-base",title:e.tooltip},(0,a.toDisplayString)(e.name),9,b))])])})),128))])]})),_:1})}]]);Nova.booting((function(e,t){e.component("funnel-metric",v),e.component("multiple-value-metric",w)}))},799:()=>{},262:(e,t)=>{t.A=(e,t)=>{const n=e.__vccOpts||e;for(const[e,a]of t)n[e]=a;return n}}},n={};function a(e){var r=n[e];if(void 0!==r)return r.exports;var l=n[e]={exports:{}};return t[e](l,l.exports,a),l.exports}a.m=t,e=[],a.O=(t,n,r,l)=>{if(!n){var o=1/0;for(d=0;d<e.length;d++){for(var[n,r,l]=e[d],s=!0,c=0;c<n.length;c++)(!1&l||o>=l)&&Object.keys(a.O).every((e=>a.O[e](n[c])))?n.splice(c--,1):(s=!1,l<o&&(o=l));if(s){e.splice(d--,1);var i=r();void 0!==i&&(t=i)}}return t}l=l||0;for(var d=e.length;d>0&&e[d-1][2]>l;d--)e[d]=e[d-1];e[d]=[n,r,l]},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={192:0,757:0};a.O.j=t=>0===e[t];var t=(t,n)=>{var r,l,[o,s,c]=n,i=0;if(o.some((t=>0!==e[t]))){for(r in s)a.o(s,r)&&(a.m[r]=s[r]);if(c)var d=c(a)}for(t&&t(n);i<o.length;i++)l=o[i],a.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return a.O(d)},n=self.webpackChunkinvolveme_metrics_funnel=self.webpackChunkinvolveme_metrics_funnel||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),a.O(void 0,[757],(()=>a(441)));var r=a.O(void 0,[757],(()=>a(799)));r=a.O(r)})();