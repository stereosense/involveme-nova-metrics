(()=>{"use strict";var e,t={51:(e,t,n)=>{const a=Vue;var r={class:"h-6 flex items-center px-6 mb-4"},s={class:"mr-3 leading-tight text-sm font-bold"},l={class:"flex items-center justify-between px-6"},c={class:"flex items-center space-x-6"},o={class:"text-4xl"},i={class:"flex flex-col text-center"},d={class:"text-base"},u={class:"text-sm"},m={key:0};const h={props:["card"],data:function(){return{route:null,metricsData:[],ranges:[],selectedRangeKey:null}},computed:{hasRanges:function(){return this.card.ranges.length>0}},created:function(){this.route="/nova-api/metrics/".concat(this.card.uriKey),this.ranges=this.card.ranges,console.log(this.card),this.hasRanges&&(this.selectedRangeKey=this.card.selectedRangeKey||this.card.ranges[0].value),this.fetchData(this.selectedRangeKey)},methods:{fetchData:function(e){var t=this;Nova.request().get(this.route,{params:{range:e}}).then((function(e){t.metricsData=e.data.value})).catch((function(e){console.log("error",e)}))},calculatePercentage:function(e){return 0===e?100:0===this.metricsData[e-1].value?0:Math.round(this.metricsData[e].value/this.metricsData[e-1].value*1e4)/100}}};var g=n(262);const p=(0,g.A)(h,[["render",function(e,t,n,h,g,p){var f=(0,a.resolveComponent)("SelectControl"),v=(0,a.resolveComponent)("Card");return(0,a.openBlock)(),(0,a.createBlock)(v,{class:"py-3 im-nova-metrics"},{default:(0,a.withCtx)((function(){return[(0,a.createElementVNode)("div",r,[(0,a.createElementVNode)("h3",s,(0,a.toDisplayString)(n.card.name),1),p.hasRanges?((0,a.openBlock)(),(0,a.createBlock)(f,{key:0,selected:e.selectedRangeKey,"onUpdate:selected":t[0]||(t[0]=function(t){return e.selectedRangeKey=t}),"aria-label":e.__("Select Ranges"),options:e.ranges,class:"ml-auto w-[9rem] flex-shrink-0",size:"xxs",onChange:p.fetchData},null,8,["selected","aria-label","options","onChange"])):(0,a.createCommentVNode)("",!0)]),(0,a.createElementVNode)("div",l,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.metricsData,(function(n,r){return(0,a.openBlock)(),(0,a.createElementBlock)("div",{key:r,class:"flex space-x-8"},[(0,a.createElementVNode)("div",c,[(0,a.createElementVNode)("span",o,(0,a.toDisplayString)(n.value),1),(0,a.createElementVNode)("div",i,[(0,a.createElementVNode)("span",d,(0,a.toDisplayString)(n.name),1),(0,a.createElementVNode)("span",u,(0,a.toDisplayString)(p.calculatePercentage(r))+"%",1)])]),r!==e.metricsData.length-1?((0,a.openBlock)(),(0,a.createElementBlock)("div",m,t[1]||(t[1]=[(0,a.createElementVNode)("svg",{class:"w-14 h-14",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[(0,a.createElementVNode)("path",{d:"M8.25 4.5l7.5 7.5-7.5 7.5","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]))):(0,a.createCommentVNode)("",!0)])})),128))])]})),_:1})}]]);var f={class:"h-6 flex items-center px-6 mb-4"},v={class:"mr-3 leading-tight text-sm font-bold"},k={class:"grid grid-cols-2 sm:grid-cols-4 md:grid-cols-6 gap-2 gap-y-4"},x={class:"text-4xl"},y={class:"flex flex-col text-center"},D=["href","title"],E=["title"];const B={props:["card"],data:function(){return{route:null,metricsData:[],ranges:[],selectedRangeKey:null}},computed:{hasRanges:function(){return this.card.ranges.length>0}},created:function(){this.route="/nova-api/metrics/".concat(this.card.uriKey),this.ranges=this.card.ranges,this.hasRanges&&(this.selectedRangeKey=this.card.selectedRangeKey||this.card.ranges[0].value),this.fetchData(this.selectedRangeKey)},methods:{fetchData:function(e){var t=this;Nova.request().get(this.route,{params:{range:e}}).then((function(e){t.metricsData=e.data.value})).catch((function(e){console.log("error",e)}))}}},N=(0,g.A)(B,[["render",function(e,t,n,r,s,l){var c=(0,a.resolveComponent)("SelectControl"),o=(0,a.resolveComponent)("Card");return(0,a.openBlock)(),(0,a.createBlock)(o,{class:"py-3 im-nova-metrics"},{default:(0,a.withCtx)((function(){return[(0,a.createElementVNode)("div",f,[(0,a.createElementVNode)("h3",v,(0,a.toDisplayString)(n.card.name),1),(0,a.createVNode)(c,{selected:e.selectedRangeKey,"onUpdate:selected":t[0]||(t[0]=function(t){return e.selectedRangeKey=t}),"aria-label":e.__("Select Ranges"),options:e.ranges,class:"ml-auto w-[9rem] flex-shrink-0",size:"xxs",onChange:l.fetchData},null,8,["selected","aria-label","options","onChange"])]),(0,a.createElementVNode)("div",k,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.metricsData,(function(e,t){return(0,a.openBlock)(),(0,a.createElementBlock)("div",{key:t,class:"justify-center text-center"},[(0,a.createElementVNode)("span",x,(0,a.toDisplayString)(e.value),1),(0,a.createElementVNode)("div",y,[e.link?((0,a.openBlock)(),(0,a.createElementBlock)("a",{key:0,href:e.link,title:e.tooltip,target:"_blank",class:"link-default"},(0,a.toDisplayString)(e.name),9,D)):((0,a.openBlock)(),(0,a.createElementBlock)("span",{key:1,class:"text-base",title:e.tooltip},(0,a.toDisplayString)(e.name),9,E))])])})),128))])]})),_:1})}]]);Nova.booting((function(e,t){e.component("funnel-metric",p),e.component("multiple-value-metric",N)}))},799:()=>{},262:(e,t)=>{t.A=(e,t)=>{const n=e.__vccOpts||e;for(const[e,a]of t)n[e]=a;return n}}},n={};function a(e){var r=n[e];if(void 0!==r)return r.exports;var s=n[e]={exports:{}};return t[e](s,s.exports,a),s.exports}a.m=t,e=[],a.O=(t,n,r,s)=>{if(!n){var l=1/0;for(d=0;d<e.length;d++){for(var[n,r,s]=e[d],c=!0,o=0;o<n.length;o++)(!1&s||l>=s)&&Object.keys(a.O).every((e=>a.O[e](n[o])))?n.splice(o--,1):(c=!1,s<l&&(l=s));if(c){e.splice(d--,1);var i=r();void 0!==i&&(t=i)}}return t}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[n,r,s]},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={192:0,757:0};a.O.j=t=>0===e[t];var t=(t,n)=>{var r,s,[l,c,o]=n,i=0;if(l.some((t=>0!==e[t]))){for(r in c)a.o(c,r)&&(a.m[r]=c[r]);if(o)var d=o(a)}for(t&&t(n);i<l.length;i++)s=l[i],a.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return a.O(d)},n=self.webpackChunkinvolveme_metrics_funnel=self.webpackChunkinvolveme_metrics_funnel||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),a.O(void 0,[757],(()=>a(51)));var r=a.O(void 0,[757],(()=>a(799)));r=a.O(r)})();